<!DOCTYPE html>
<head>
    <title>Registration Page</title>
    <style>
        #div2{
            background-image: url(bg-image.jpg);
        }
        
        @media (max-width:1084px) {
            html{
                font-size: 100%;
            }
            #div1{
                width:400px;
            }
            #div2{
                background-size: 100% 100%;
                height: 485px;
            }
        }
        @media (max-width:720px) {
            html{
                font-size: 70%;
            }
            #div1{
                width: 300px;
            }
        }
        @media only screen and (max-width:360px) {
            html{
                font-size: 50%;
            }
            #div1{
                width: 150px;
                height:fit-content;
            }
            

        }
    
    </style>
</head>
<body>
   <div id="div2">
    <div class="diva" id="div1" style=" border:4px solid brown;  margin: 0 auto;  background-color: azure; ">
        <br>
    <h3 style="text-align: center; padding-top: 10px;">Book A Call</h3>
    <p style="text-align: center;">Book a call and our representive will call you within an hour</p>
    <form id="lf" style="font-size: 1rem;">
        <label for="name">Name:</label><br>
        <input style="font-size: .85rem;" type="text" placeholder="Enter your name" id="name" name="name"/><br><br>
        <label for="email">Email:</label><br>
        <input style="font-size: .85rem;" type="email" placeholder="Enter you email" id="email" name="email"/><br><br>
        <label for="phone">Phone</label><br>
        <input style="font-size: .85rem;" type="number" placeholder="Phone Number" id="phone" name="phone"/><br><br>
        <label for="date">Time For Call:</label><br>
        <input style="font-size: .85rem;" type="date" id="date" name="date">
        <input style="font-size: .85rem;" type="time" id="time" name="time"><br><br>
        <div style="text-align: center;"><button id="btn" type="submit" style=" font-size: .85rem; background-color:orange;">Get A Call</button></div>

    </form>
    </div>
    </div>
    <script>
        let loginform = document.getElementById("lf");
        loginform.addEventListener("submit",(e)=>{
            e.preventDefault();
            let n=document.getElementById("name");
            let em=document.getElementById("email");
            let p=document.getElementById("phone");
            let d=document.getElementById("date");
            let t=document.getElementById("time");
            // console.log("Name:"+ n.value);
            // console.log("Email:"+em.value);
            // console.log("PhoneNumber:"+p.value);
            // console.log("Time For Call:"+" "+d.value+" "+t.value);
            let cartItem = {
                name:n.value,
                email:em.value,
                phone:p.value,
                date:d.value,
                time:t.value
            };
           localStorage.setItem(em.value,JSON.stringify(cartItem));
            
            let div2 = document.getElementById('div2');
            
            let li = document.createElement('li');
            li.id=em.value;
            
            let node = document.createTextNode(`name: ${n.value} email: ${em.value} phone: ${p.value} date: ${d.value} time: ${t.value}`);
            li.append(node);
            li.style.color='red';

            let btn = document.createElement('Button');
            btn.value='delete';
            btn.textContent='Delete';
            li.append(btn);
            let btn2 = document.createElement('Button');
            btn2.value='edit';
            btn2.textContent='Edit';
            li.append(btn2);

            btn.onclick=(event)=>{
                let pEl = event.target.parentElement;
                let pEEl = pEl.parentElement;
                localStorage.removeItem(pEl.id);
                pEEl.removeChild(pEl);
                
            }
            btn2.onclick=(event)=>{

                let pEl = event.target.parentElement;
                let pEEl = pEl.parentElement;
                let item = JSON.parse(localStorage.getItem(pEl.id));
                localStorage.removeItem(pEl.id);
                pEEl.removeChild(pEl);
                n.value=item.name;
                em.value=item.email;
                p.value=item.phone;
                d.value=item.date;
                t.value=item.time;
                
            }

            div2.appendChild(li);

            n.value="";
            em.value="";
            p.value="";
            d.value="";
            t.value="";

        })

        
        
        // let btn = document.getElementById('btn');
        // btn.addEventListener('click',(e)=>
        // {
        //     e.preventDefault();
        //     document.querySelector('body').style.background='red';
        // })
        // btn.addEventListener('mouseover',(e)=>
        // {
        //     e.preventDefault();
        //     document.querySelector('body').style.background='green';
        // })
        // btn.addEventListener('mouseout',(e)=>
        // {
        //     e.preventDefault();
        //     document.querySelector('body').style.background='blue';
        // })

       
    </script>
</body>